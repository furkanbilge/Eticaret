@model Eticaret.WebUI.Models.ProductDetailViewModel

@{
    ViewData["Title"] = Model.Product.Name;
}


<div class="container mt-5">
    <div class="row g-5">
        <!-- Sol: Ürün Görseli -->
        <div class="col-md-6 text-center">
            <img src="~/Img/Products/@Model.Product.Image" class="img-fluid rounded shadow-sm" alt="@Model.Product.Name" style="max-height: 400px; object-fit: contain;" />
        </div>

        <!-- Sağ: Ürün Bilgileri -->
        <div class="col-md-6">
            <h2 class="fw-bold">@Model.Product.Name</h2>
            <p class="text-muted">@Model.Product.Category?.Name - @Model.Product.Brand?.Name</p>
            <p class="text-muted">SKU: @Model.Product.ProductCode</p>
            @* <div class="small mb-1">SKU: @Model.Product.ProductCode</div> *@

            <h4 class="text-primary fw-bold mb-3">@Model.Product.Price.ToString("N0") ₺</h4>

            <p>@Model.Product.Description</p>

            <p>
                <span class="badge bg-success">Stok: @(Model.Product.Stock > 0 ? "Var" : "Tükendi")</span>
            </p>

            <form asp-controller="Cart" asp-action="Add" method="post" class="mt-4">
                <input type="hidden" name="ProductId" value="@Model.Product.Id" />
                <div class="input-group" style="max-width: 200px;">
                    <input type="number" name="quantity" value="1" min="1" class="form-control" />
                    <button type="submit" class="btn btn-primary">Sepete Ekle</button>
                </div>
            </form>
            <form asp-action="Add" asp-controller="Favorites" class="d-flex mt-3">
                <input type="hidden" name="ProductId" value="@Model.Product.Id" />
                <button class="btn btn-outline-danger flex-shrink-0" type="submit">
                    <i class="bi-heart me-1"></i>
                    Favorilere Ekle
                </button>
            </form>
        </div>
    </div>

    <!-- Alt: Benzer Ürünler -->
    @if (Model.RelatedProducts != null && Model.RelatedProducts.Any())
    {
        <hr class="my-5" />
        <h4 class="mb-4">Benzer Ürünler</h4>
        <div class="row row-cols-1 row-cols-md-3 g-4">
            @foreach (var item in Model.RelatedProducts)
            {
                <partial name="_ProductView" model="item" />
            }
        </div>
    }
</div>
